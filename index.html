<!DOCTYPE html>
<!-- ===================================================================== -->
<!-- StreamSuites™ Public Lander — Aurora Hero                             -->
<!-- Version: v0.4.1-alpha                                                 -->
<!-- Copyright: © 2026 Brainstream Media Group                             -->
<!-- ===================================================================== -->
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StreamSuites™ — Enter</title>
  <meta name="description" content="StreamSuites public landing page with live runtime galleries for clips, polls, scoreboards, and tallies." />
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="/css/status-widget.css" />
  <link rel="stylesheet" href="/css/aurora-landing.css" />
  <style>
    .auth-modal {
      max-height: 88vh;
      overflow-y: auto;
      overflow-x: hidden;
      scrollbar-width: thin;
      scrollbar-color: rgba(164, 174, 196, 0.48) rgba(12, 16, 24, 0.84);
    }

    .auth-modal::-webkit-scrollbar {
      width: 8px;
    }

    .auth-modal::-webkit-scrollbar-track {
      background: rgba(12, 16, 24, 0.84);
    }

    .auth-modal::-webkit-scrollbar-thumb {
      background: rgba(164, 174, 196, 0.48);
      border-radius: 999px;
    }

    .auth-modal::-webkit-scrollbar-thumb:hover {
      background: rgba(181, 190, 211, 0.62);
    }
  </style>
</head>

<body>
  <div class="stage">
    <main class="hero" aria-label="StreamSuites hero">
      <div class="wordmark">
        <img src="./assets/logos/wordmarkchromefull.webp" alt="StreamSuites™" />
      </div>

      <p class="hero-about">
        StreamSuites is a modular livestream automation and interaction platform built for creators who demand
        reliability, control, and scale. <a href="#more" data-about-toggle>See more</a>
      </p>

      <div class="platform-stack" aria-label="Supported platforms">
        <div class="platform-label" aria-hidden="true">SUPPORTED PLATFORMS</div>
        <div class="platform-strip">
          <div class="platform-mask">
            <div class="platform-marquee">
              <div class="platform-group">
                <div class="platform"><img src="/assets/icons/rumble-silver.svg" alt="">Rumble</div>
                <div class="platform"><img src="/assets/icons/youtube-silver.svg" alt="">YouTube</div>
                <div class="platform"><img src="/assets/icons/twitch-silver.svg" alt="">Twitch</div>
                <div class="platform"><img src="/assets/icons/kick-silver.svg" alt="">Kick</div>
                <div class="platform"><img src="/assets/icons/discord-silver.svg" alt="">Discord</div>
                <div class="platform"><img src="/assets/icons/obs-silver.svg" alt="">OBS</div>
              </div>

              <div class="platform-group" aria-hidden="true">
                <div class="platform"><img src="/assets/icons/rumble-silver.svg" alt="">Rumble</div>
                <div class="platform"><img src="/assets/icons/youtube-silver.svg" alt="">YouTube</div>
                <div class="platform"><img src="/assets/icons/twitch-silver.svg" alt="">Twitch</div>
                <div class="platform"><img src="/assets/icons/kick-silver.svg" alt="">Kick</div>
                <div class="platform"><img src="/assets/icons/discord-silver.svg" alt="">Discord</div>
                <div class="platform"><img src="/assets/icons/obs-silver.svg" alt="">OBS</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="cta-block">
        <div class="cta-primary-wrap" aria-hidden="true">
          <button class="cta-primary" type="button" data-auth-trigger="login" data-creator-cta>Creator Login</button>
        </div>
        <p class="cta-signup">No account? <button type="button" data-auth-trigger="signup">sign up</button> in seconds!</p>
      </div>
    </main>

    <section class="about-panel" aria-label="About StreamSuites">
      <p class="about-eyebrow muted">About StreamSuites</p>
      <div class="about-slides" data-about-slides>
        <article class="about-slide is-active" data-about-slide="0">
          <h2 class="about-title">Automation that stays out of your way.</h2>
          <p class="about-body muted">
            Orchestrate overlays, chat interactions, and real-time graphics from a single control surface.
            StreamSuites connects your tools, normalizes your data, and keeps your stream consistent under pressure.
          </p>
          <div class="about-points muted">
            <span>Modular scenes</span>
            <span>Live audience input</span>
            <span>Broadcast-grade reliability</span>
          </div>
        </article>

        <article class="about-slide" data-about-slide="1" aria-hidden="true">
          <h2 class="about-title">Build once. Deploy everywhere.</h2>
          <p class="about-body muted">
            Publish unified graphics across platforms without rebuilding your entire stack. Profiles keep each show
            consistent while your runtime data stays live.
          </p>
          <div class="about-points muted">
            <span>Scene templates</span>
            <span>Multi-platform output</span>
            <span>Live data sources</span>
          </div>
        </article>

        <article class="about-slide" data-about-slide="2" aria-hidden="true">
          <h2 class="about-title">Designed for control rooms.</h2>
          <p class="about-body muted">
            Run complex broadcasts with fewer operators. StreamSuites keeps automation predictable, while giving you
            manual override when the moment calls for it.
          </p>
          <div class="about-points muted">
            <span>Operator tools</span>
            <span>Fail-safe routing</span>
            <span>Latency aware</span>
          </div>
        </article>

        <article class="about-slide" data-about-slide="3" aria-hidden="true">
          <h2 class="about-title">Built for creators who iterate fast.</h2>
          <p class="about-body muted">
            Keep your show architecture stable while rapidly testing new overlays, interactions, and engagement logic.
            StreamSuites lets you ship updates without sacrificing production confidence.
          </p>
          <div class="about-points muted">
            <span>Rapid iteration</span>
            <span>Stable runtime</span>
            <span>Creator-first workflows</span>
          </div>
        </article>
      </div>

      <div class="about-controls">
        <div class="about-progress" data-about-progress aria-label="About slide progress"></div>
        <div class="about-controls-row">
          <div class="about-nav">
            <button class="about-back about-nav-button" type="button" data-about-back aria-label="Back to hero">HOME</button>
            <button class="about-nav-button" type="button" data-about-prev aria-label="Previous slide">◄</button>
            <button class="about-nav-button" type="button" data-about-next aria-label="Next slide">►</button>
          </div>
          <a class="about-full-link" href="/about.html">Read the full About</a>
        </div>
      </div>
    </section>

    <div class="logo-shine"></div>
    <div class="grid-motif"></div>
    <img class="grid-shot grid-shot-1 is-active" src="/assets/illustrations/f1.webp" alt="" aria-hidden="true" data-about-image-slide="0" />
    <img class="grid-shot grid-shot-2" src="/assets/illustrations/f2.webp" alt="" aria-hidden="true" data-about-image-slide="1" />
    <img class="grid-shot grid-shot-3" src="/assets/illustrations/f3.webp" alt="" aria-hidden="true" data-about-image-slide="2" />
    <img class="grid-shot grid-shot-4" src="/assets/illustrations/f4.webp" alt="" aria-hidden="true" data-about-image-slide="3" />

    <div class="aurora">
      <div class="blob purple"></div>
      <div class="blob magenta"></div>
      <div class="blob blue"></div>
      <div class="blob secondary"></div>
      <div class="blob accent"></div>
    </div>

    <div class="fade"></div>

    <div class="secondary-pills" aria-label="Public Galleries">
      <a href="/clips.html">Clips</a>
      <a href="/polls.html">Polls</a>
      <a href="/media.html">More</a>      
    </div>

    <div class="footer-shell">
      <div class="footer-status" data-status-slot></div>

      <div class="footer-bar">
        <div class="footer-links">
          <a href="/support.html">/support</a>
          <a href="/donate.html">/donate</a>
          <a href="/privacy.html">/privacy</a>
          <a href="/about.html">/about</a>
        </div>

        <div class="footer-meta">
          <a class="footer-copyright" href="https://brainstream.media" target="_blank" rel="noopener noreferrer">
            © 2026 Brainstream Media Group
          </a>
          <span class="footer-version-tooltip-container">
            <a class="footer-version" href="/changelog" aria-describedby="footer-version-tooltip">Loading version…</a>
            <div class="footer-version-tooltip" id="footer-version-tooltip" role="tooltip">
              <div class="footer-version-tooltip-line" data-footer-version-tooltip="version">Loading version…</div>
              <div class="footer-version-tooltip-line" data-footer-version-tooltip="build">Build …</div>
              <a class="footer-version-tooltip-link" href="/changelog">View changelog</a>
            </div>
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="cta-floating" aria-hidden="true">
    <div class="cta-primary-wrap">
      <button class="cta-primary" type="button" data-auth-trigger="login" data-creator-cta>Creator Login</button>
    </div>
  </div>

  <div class="auth-modal-backdrop" id="auth-modal" aria-hidden="true">
    <div class="auth-modal" role="dialog" aria-modal="true" aria-labelledby="auth-modal-title" data-state="login">
      <button class="auth-modal-close" type="button" aria-label="Close">×</button>

      <div class="auth-modal-header">
        <p class="auth-modal-eyebrow">Creator access</p>
        <h2 id="auth-modal-title" class="auth-modal-title">
          <img src="/assets/logos/pubcon.webp" alt="StreamSuites logo" />
          <span data-auth-title-text>Log in to StreamSuites™</span>
        </h2>
        <p class="auth-modal-subtitle" data-auth-subtitle>Use OAuth or your email to continue.</p>
      </div>

      <div class="auth-panel" data-state="login">
        <div class="auth-oauth-grid" data-auth-primary-methods>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/login/google?surface=creator">
            <img src="/assets/icons/google.svg" alt="" />
            Continue with Google
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/login/github?surface=creator">
            <img src="/assets/icons/github.svg" alt="" />
            Continue with GitHub
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/x/start?surface=creator">
            <img src="/assets/icons/x.svg" alt="" />
            Continue with X
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/login/discord?surface=creator">
            <img src="/assets/icons/discord.svg" alt="" />
            Continue with Discord
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/oauth/twitch/start">
            <img src="/assets/icons/twitch.svg" alt="" />
            Continue with Twitch
          </a>
        </div>

        <div class="auth-toggle">
          <button
            type="button"
            data-auth-other-methods-toggle
            aria-expanded="false"
          >
            Use email/password
          </button>
        </div>

        <div data-auth-secondary-methods hidden>
          <div class="auth-divider">Or email</div>

          <form class="auth-form" data-auth-form="login">
            <label for="login-email">Email</label>
            <input id="login-email" name="email" type="email" autocomplete="email" required />
            <label for="login-password">Password</label>
            <input id="login-password" name="password" type="password" autocomplete="current-password" required />
            <div class="auth-error" role="alert" aria-live="polite"></div>
            <button type="submit">Log in</button>
            <div class="auth-resend" data-auth-resend="login" hidden>
              <button type="button" class="auth-resend-button" data-auth-resend-button>
                Resend verification email
              </button>
              <p class="muted auth-resend-status" data-auth-resend-status aria-live="polite"></p>
            </div>
          </form>

        </div>

        <p class="auth-legal muted">
          By logging in, you agree to the <a href="/terms.html">Terms of Service</a> and acknowledge the
          <a href="/privacy.html">Privacy page</a>.
        </p>

        <div class="auth-toggle">
          Need an account?
          <button type="button" data-auth-toggle="signup">Sign up</button>
        </div>
      </div>

      <div class="auth-panel" data-state="signup">
        <div class="auth-oauth-grid" data-auth-primary-methods>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/login/google?surface=creator">
            <img src="/assets/icons/google.svg" alt="" />
            Continue with Google
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/login/github?surface=creator">
            <img src="/assets/icons/github.svg" alt="" />
            Continue with GitHub
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/x/start?surface=creator">
            <img src="/assets/icons/x.svg" alt="" />
            Continue with X
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/auth/login/discord?surface=creator">
            <img src="/assets/icons/discord.svg" alt="" />
            Continue with Discord
          </a>
          <a class="auth-oauth-button" href="https://api.streamsuites.app/oauth/twitch/start">
            <img src="/assets/icons/twitch.svg" alt="" />
            Continue with Twitch
          </a>
        </div>

        <div class="auth-toggle">
          <button
            type="button"
            data-auth-other-methods-toggle
            aria-expanded="false"
          >
            Use email/password
          </button>
        </div>

        <div data-auth-secondary-methods hidden>
          <div class="auth-divider">Or email</div>

          <form class="auth-form" data-auth-form="signup">
            <label for="signup-email">Email</label>
            <input id="signup-email" name="email" type="email" autocomplete="email" required />
            <label for="signup-password">Password</label>
            <input id="signup-password" name="password" type="password" autocomplete="new-password" required />
            <label for="signup-confirm-password">Confirm password</label>
            <input id="signup-confirm-password" name="confirmPassword" type="password" autocomplete="new-password" required />
            <p class="muted auth-strength" data-auth-strength>Strength: Weak</p>
            <div class="auth-error" role="alert" aria-live="polite"></div>
            <button type="submit">Create account</button>
            <div class="auth-resend" data-auth-resend="signup" hidden>
              <button type="button" class="auth-resend-button" data-auth-resend-button>
                Resend verification email
              </button>
              <p class="muted auth-resend-status" data-auth-resend-status aria-live="polite"></p>
            </div>
          </form>

        </div>

        <p class="auth-legal muted">
          By creating an account, you agree to the <a href="/terms.html">Terms of Service</a> and acknowledge the
          <a href="/privacy.html">Privacy page</a>. Certain StreamSuites™ software and features may be subject to
          additional <a href="https://docs.streamsuites.app/docs/legal/eula">license</a> terms.
        </p>

        <div class="auth-toggle">
          Already have an account?
          <button type="button" data-auth-toggle="login">Log in</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const ctas = Array.from(document.querySelectorAll('[data-creator-cta]'));
      if (!ctas.length) return;

      const LOGIN_LABEL = 'Creator Login';
      const DASHBOARD_LABEL = 'Creator Dashboard';
      const AUTH_SESSION_URL = 'https://api.streamsuites.app/auth/session';
      const CREATOR_DASHBOARD_URL = 'https://creator.streamsuites.app/';
      let isCreatorSession = false;

      const setLabel = () => {
        const label = isCreatorSession ? DASHBOARD_LABEL : LOGIN_LABEL;
        ctas.forEach((cta) => {
          cta.textContent = label;
        });
      };

      const isCreatorSessionPayload = (payload) => {
        const hasValidSession = payload?.session_valid === true || payload?.authenticated === true;
        return Boolean(hasValidSession && payload?.user?.role === 'creator');
      };

      const fetchCreatorSession = async () => {
        const response = await fetch(AUTH_SESSION_URL, { credentials: 'include' });
        if (!response.ok) return false;
        const payload = await response.json().catch(() => null);
        return isCreatorSessionPayload(payload);
      };

      const handleCtaClick = (event) => {
        if (!isCreatorSession) {
          return;
        }
        event.preventDefault();
        event.stopImmediatePropagation();
        window.location.assign(CREATOR_DASHBOARD_URL);
      };

      ctas.forEach((cta) => {
        cta.addEventListener('click', handleCtaClick);
      });

      setLabel();
      fetchCreatorSession()
        .then((isCreator) => {
          isCreatorSession = isCreator;
          setLabel();
        })
        .catch(() => {
          isCreatorSession = false;
          setLabel();
        });
    })();
  </script>

  <script>
    (function () {
      const authModalBackdrop = document.getElementById('auth-modal');
      const authModal = authModalBackdrop?.querySelector('.auth-modal');
      const authTitle = authModal?.querySelector('[data-auth-title-text]');
      const authSubtitle = authModal?.querySelector('[data-auth-subtitle]');
      const authClose = authModal?.querySelector('.auth-modal-close');
      const authTriggers = Array.from(document.querySelectorAll('[data-auth-trigger]'));
      const authToggles = Array.from(document.querySelectorAll('[data-auth-toggle]'));
      const authPanels = Array.from(authModal?.querySelectorAll('.auth-panel') || []);
      const authOtherMethodToggles = Array.from(authModal?.querySelectorAll('[data-auth-other-methods-toggle]') || []);
      const authForms = Array.from(document.querySelectorAll('[data-auth-form]'));

      if (!authModalBackdrop || !authModal) return;

      const CREATOR_DASHBOARD_URL = 'https://creator.streamsuites.app';
      const CREATOR_ONBOARDING_URL = 'https://creator.streamsuites.app/onboarding';
      const AUTH_API_BASE = 'https://api.streamsuites.app/auth';
      const RESEND_ENDPOINT = `${AUTH_API_BASE}/verify/resend`;
      const PASSWORD_MIN_LENGTH = 8;
      const AUTH_FLOW_STATES = Object.freeze({
        idle: 'idle',
        starting: 'starting',
        waiting_callback: 'waiting_callback',
        success: 'success',
        error: 'error',
      });
      const oauthFlow = {
        state: AUTH_FLOW_STATES.idle,
        activeHref: '',
      };

      const hasSpecialCharacter = (value) => /[^A-Za-z0-9]/.test(value);

      const evaluatePasswordStrength = (password) => {
        if (!password) return 'Weak';
        let score = 0;
        if (password.length >= PASSWORD_MIN_LENGTH) score += 1;
        if (password.length >= 12) score += 1;
        if (hasSpecialCharacter(password)) score += 1;
        if (/[A-Z]/.test(password) && /[a-z]/.test(password) && /\d/.test(password)) score += 1;
        if (score <= 1) return 'Weak';
        if (score <= 3) return 'Moderate';
        return 'Strong';
      };
      const AUTH_TITLES = {
        login: {
          title: 'Log in to StreamSuites™',
          subtitle: 'Use OAuth or your email to continue.',
        },
        signup: {
          title: 'Sign up to StreamSuites™',
          subtitle: 'Start with OAuth or email to continue.',
        },
      };

      const setOauthFlowState = (nextState) => {
        oauthFlow.state = nextState;
        authModal.dataset.oauthFlowState = nextState;
      };

      const wireOauthFlowButtons = () => {
        const oauthLinks = Array.from(
          authModal.querySelectorAll(
            '.auth-oauth-button[href^="https://api.streamsuites.app/auth/"], .auth-oauth-button[href^="https://api.streamsuites.app/oauth/"]'
          )
        );
        oauthLinks.forEach((link) => {
          if (!(link instanceof HTMLAnchorElement)) return;
          if (link.dataset.authFlowWired === 'true') return;
          link.dataset.authFlowWired = 'true';
          link.addEventListener('click', (event) => {
            event.preventDefault();
            if (oauthFlow.state === AUTH_FLOW_STATES.starting || oauthFlow.state === AUTH_FLOW_STATES.waiting_callback) {
              return;
            }
            const href = link.href;
            oauthFlow.activeHref = href;
            setOauthFlowState(AUTH_FLOW_STATES.starting);
            try {
              setOauthFlowState(AUTH_FLOW_STATES.waiting_callback);
              window.location.assign(href);
            } catch (error) {
              setOauthFlowState(AUTH_FLOW_STATES.error);
            }
          });
        });
      };

      const setOtherMethodsExpanded = (panel, expanded) => {
        if (!panel) return;
        const secondary = panel.querySelector('[data-auth-secondary-methods]');
        const toggle = panel.querySelector('[data-auth-other-methods-toggle]');
        if (!secondary || !toggle) return;
        secondary.hidden = !expanded;
        toggle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
      };

      const resetOtherMethods = () => {
        authPanels.forEach((panel) => setOtherMethodsExpanded(panel, false));
      };

      const setAuthState = (state) => {
        authModal.dataset.state = state;
        resetOtherMethods();
        if (authTitle && AUTH_TITLES[state]) {
          authTitle.textContent = AUTH_TITLES[state].title;
        }
        if (authSubtitle && AUTH_TITLES[state]) {
          authSubtitle.textContent = AUTH_TITLES[state].subtitle;
        }
      };

      const openModal = (state = 'login') => {
        setAuthState(state);
        setOauthFlowState(AUTH_FLOW_STATES.idle);
        authModalBackdrop.classList.add('is-open');
        authModalBackdrop.setAttribute('aria-hidden', 'false');
        document.body.classList.add('modal-open');
      };

      const closeModal = () => {
        authModalBackdrop.classList.remove('is-open');
        authModalBackdrop.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('modal-open');
      };

      const getResendContainer = (form) => form?.querySelector('[data-auth-resend]') || null;

      const setResendState = (form, { visible = false, message = '', disabled = false } = {}) => {
        const container = getResendContainer(form);
        if (!container) return;
        container.hidden = !visible;
        const status = container.querySelector('[data-auth-resend-status]');
        if (status) {
          status.textContent = message || '';
        }
        const button = container.querySelector('[data-auth-resend-button]');
        if (button) {
          button.disabled = !!disabled;
        }
      };

      const setResendEmail = (form, email) => {
        if (!form) return;
        form.dataset.resendEmail = email || '';
      };

      const getResendEmail = (form) => {
        if (!form) return '';
        const stored = form.dataset.resendEmail || '';
        const emailInput = form.querySelector('input[name="email"]');
        const value = stored || (emailInput ? emailInput.value : '');
        return value.trim();
      };

      const wireResendButton = (form) => {
        const container = getResendContainer(form);
        if (!container || container.dataset.resendWired === 'true') return;
        container.dataset.resendWired = 'true';
        const button = container.querySelector('[data-auth-resend-button]');
        if (!button) return;
        button.addEventListener('click', async (event) => {
          event.preventDefault();
          const email = getResendEmail(form);
          if (!email || !email.includes('@')) {
            setResendState(form, {
              visible: true,
              message: 'Enter a valid email to resend the verification link.',
            });
            return;
          }
          setResendState(form, { visible: true, message: 'Sending verification email...', disabled: true });
          try {
            const response = await fetch(RESEND_ENDPOINT, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json',
              },
              body: JSON.stringify({
                email,
                surface: 'public',
              }),
            });
            let payload = null;
            try {
              payload = await response.json();
            } catch (error) {
              payload = null;
            }
            if (response.ok && payload?.status === 'already_verified') {
              setResendState(form, { visible: true, message: 'Email already verified. Log in to continue.' });
              return;
            }
            if (response.ok) {
              setResendState(form, { visible: true, message: payload?.message || 'Verification email sent.' });
              return;
            }
            if (response.status === 429 || payload?.status === 'rate_limited') {
              setResendState(form, { visible: true, message: 'Too many resend requests. Please wait and try again.' });
              return;
            }
            setResendState(form, { visible: true, message: payload?.error || 'Unable to resend verification email.' });
          } catch (error) {
            setResendState(form, { visible: true, message: 'Unable to resend verification email.' });
          }
        });
      };

      const maybeOpenFromQuery = () => {
        const params = new URLSearchParams(window.location.search);
        const verified = params.get('verified');
        const auth = params.get('auth');
        if (verified === '1') {
          openModal('login');
          if (authSubtitle) {
            authSubtitle.textContent = 'Email verified. Log in to continue.';
          }
          return;
        }
        const reason = params.get('reason');
        if (reason === 'verification-expired') {
          openModal('login');
          if (authSubtitle) {
            authSubtitle.textContent = 'Your verification link expired. Resend a new email below.';
          }
          const loginForm = authModal.querySelector('[data-auth-form="login"]');
          if (loginForm) {
            setResendState(loginForm, { visible: true, message: 'Need a new link? Resend below.' });
          }
          return;
        }
        if (auth === 'login' || auth === 'signup') {
          openModal(auth);
        }
      };

      authTriggers.forEach((trigger) => {
        trigger.addEventListener('click', () => openModal(trigger.dataset.authTrigger));
      });

      authToggles.forEach((toggle) => {
        toggle.addEventListener('click', () => setAuthState(toggle.dataset.authToggle));
      });

      authOtherMethodToggles.forEach((toggle, index) => {
        const panel = toggle.closest('.auth-panel');
        const secondary = panel?.querySelector('[data-auth-secondary-methods]');
        if (secondary && !secondary.id) {
          secondary.id = `auth-secondary-methods-${index + 1}`;
        }
        if (secondary?.id) {
          toggle.setAttribute('aria-controls', secondary.id);
        }
        toggle.addEventListener('click', () => {
          const expanded = toggle.getAttribute('aria-expanded') === 'true';
          setOtherMethodsExpanded(panel, !expanded);
        });
      });

      setOauthFlowState(AUTH_FLOW_STATES.idle);
      wireOauthFlowButtons();

      authClose?.addEventListener('click', closeModal);
      authModalBackdrop.addEventListener('click', (event) => {
        if (event.target === authModalBackdrop) {
          closeModal();
        }
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && authModalBackdrop.classList.contains('is-open')) {
          closeModal();
        }
      });

      maybeOpenFromQuery();
      resetOtherMethods();

      const resolveRedirect = (payload) => {
        if (payload?.redirect_url) {
          return payload.redirect_url;
        }
        if (payload?.onboarding_required) {
          return CREATOR_ONBOARDING_URL;
        }
        return CREATOR_DASHBOARD_URL;
      };

      const renderError = (form, message) => {
        const errorEl = form.querySelector('.auth-error');
        if (errorEl) {
          errorEl.textContent = message;
        }
      };

      const clearError = (form) => {
        renderError(form, '');
      };

      const showSignupPendingVerification = (form, email) => {
        renderError(form, 'Check your email to verify your account.');
        setResendEmail(form, email || '');
        setResendState(form, { visible: true, message: 'Need another verification email? Resend below.' });
      };

      authForms.forEach((form) => {
        const strengthEl = form.querySelector('[data-auth-strength]');
        const passwordInput = form.querySelector('input[name="password"]');
        if (strengthEl && passwordInput instanceof HTMLInputElement) {
          const updateStrength = () => {
            strengthEl.textContent = `Strength: ${evaluatePasswordStrength(passwordInput.value)}`;
          };
          passwordInput.addEventListener('input', updateStrength);
          updateStrength();
        }

        wireResendButton(form);

        form.addEventListener('submit', async (event) => {
          event.preventDefault();

          const mode = form.dataset.authForm;
          const email = form.querySelector('input[name="email"]')?.value?.trim();
          const password = form.querySelector('input[name="password"]')?.value || '';
          const confirmPassword = form.querySelector('input[name="confirmPassword"]')?.value || '';
          const submitButton = form.querySelector('button[type="submit"]');

          clearError(form);

          if (!email || !password) {
            renderError(form, 'Please provide an email and password.');
            return;
          }

          if (mode === 'signup') {
            if (password.length < PASSWORD_MIN_LENGTH || !hasSpecialCharacter(password)) {
              renderError(form, 'Passwords must be at least 8 characters and include a special character.');
              return;
            }
            if (password !== confirmPassword) {
              renderError(form, 'Passwords do not match.');
              return;
            }
          }

          const endpoint =
            mode === 'signup'
              ? `${AUTH_API_BASE}/signup/email`
              : `${AUTH_API_BASE}/login/password`;

          if (submitButton) {
            submitButton.disabled = true;
            submitButton.setAttribute('aria-busy', 'true');
          }

          try {
            const response = await fetch(endpoint, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              credentials: 'include',
              body: JSON.stringify({
                email,
                password,
                surface: mode === 'signup' ? 'public' : 'creator',
              }),
            });

            let payload = null;
            try {
              payload = await response.json();
            } catch (error) {
              payload = null;
            }

            if (!response.ok) {
              if (mode === 'signup') {
                if (response.status === 401) {
                  renderError(form, 'Unable to sign up with those details. Please try again.');
                  setResendState(form, { visible: false });
                  return;
                }
                if (response.status === 429) {
                  renderError(form, 'Too many signup attempts. Please wait and try again.');
                  setResendState(form, { visible: false });
                  return;
                }
                if (response.status === 500 || response.status === 502) {
                  renderError(form, 'Signup is unavailable right now. Please try again shortly.');
                  setResendState(form, { visible: false });
                  return;
                }
              }
              const message = payload?.message || 'Unable to authenticate. Please check your details and try again.';
              renderError(form, message);
              const verificationRequired =
                payload?.verification_required === true ||
                /not verified/i.test(message);
              if (verificationRequired) {
                setResendEmail(form, email || '');
                setResendState(form, { visible: true, message: 'Need a new link? Resend below.' });
              } else {
                setResendState(form, { visible: false });
              }
              return;
            }

            if (mode === 'signup') {
              showSignupPendingVerification(form, email);
              return;
            }

            if (payload?.verification_required) {
              renderError(form, 'Check your email to verify your account before logging in.');
              setResendEmail(form, email || '');
              setResendState(form, { visible: true, message: 'Need another verification email? Resend below.' });
              return;
            }

            window.location.href = resolveRedirect(payload);
          } catch (error) {
            if (mode === 'signup') {
              renderError(form, 'Network error during signup. Please check your connection and try again.');
            } else {
              renderError(form, 'Network error. Please try again.');
            }
          } finally {
            if (submitButton) {
              submitButton.disabled = false;
              submitButton.removeAttribute('aria-busy');
            }
          }
        });
      });
    })();
  </script>

  <script src="/js/utils/versioning.js"></script>
  <script src="/js/utils/version-stamp.js"></script>
  <script src="/js/status-widget.js" defer></script>

  <script>
    (function () {
      const toggle = document.querySelector('[data-about-toggle]');
      const back = document.querySelector('[data-about-back]');
      const slides = Array.from(document.querySelectorAll('[data-about-slide]'));
      const imageSlides = Array.from(document.querySelectorAll('[data-about-image-slide]'));
      const progress = document.querySelector('[data-about-progress]');
      const prev = document.querySelector('[data-about-prev]');
      const next = document.querySelector('[data-about-next]');

      if (!toggle) return;

      const updateProgress = (activeSlideIndex) => {
        if (!progress) return;
        const steps = Array.from(progress.querySelectorAll('[data-about-progress-step]'));
        steps.forEach((step, idx) => {
          const isDotActive = idx <= activeSlideIndex;
          const isActive = idx === activeSlideIndex;
          const connector = step.querySelector('[data-about-progress-connector]');
          const dot = step.querySelector('[data-about-progress-dot]');

          step.classList.toggle('is-read', isDotActive);
          step.classList.toggle('is-active', isActive);
          step.setAttribute('data-state', isActive ? 'active' : (isDotActive ? 'read' : 'unread'));
          step.setAttribute('aria-current', isActive ? 'true' : 'false');

          if (dot) {
            dot.setAttribute('data-state', isDotActive ? 'active' : 'inactive');
          }
          if (connector) {
            connector.setAttribute('data-state', idx < activeSlideIndex ? 'active' : 'inactive');
          }
        });
      };

      const buildProgress = () => {
        if (!progress || !slides.length) return;
        progress.innerHTML = slides.map((_, idx) => `
          <span class="about-progress-step" data-about-progress-step data-index="${idx}" data-state="unread">
            <span class="about-progress-dot" data-about-progress-dot data-state="inactive" aria-hidden="true"></span>
            ${idx < slides.length - 1 ? '<span class="about-progress-connector" data-about-progress-connector data-state="inactive" aria-hidden="true"></span>' : ''}
          </span>
        `).join('');
      };

      const setSlide = (index) => {
        if (!slides.length) return;
        const total = slides.length;
        const nextIndex = ((index % total) + total) % total;
        slides.forEach((slide, idx) => {
          const isActive = idx === nextIndex;
          slide.classList.toggle('is-active', isActive);
          slide.setAttribute('aria-hidden', isActive ? 'false' : 'true');
        });
        imageSlides.forEach((slide, idx) => {
          const isActive = idx === nextIndex;
          slide.classList.toggle('is-active', isActive);
          slide.setAttribute('aria-hidden', isActive ? 'false' : 'true');
        });
        updateProgress(nextIndex);
      };

      const showAbout = (event) => {
        event?.preventDefault();
        document.body.classList.add('about-open');
      };

      const hideAbout = () => {
        document.body.classList.remove('about-open');
      };

      toggle.addEventListener('click', showAbout);
      back?.addEventListener('click', hideAbout);

      let activeIndex = 0;
      buildProgress();
      setSlide(activeIndex);

      prev?.addEventListener('click', () => {
        activeIndex -= 1;
        setSlide(activeIndex);
      });

      next?.addEventListener('click', () => {
        activeIndex += 1;
        setSlide(activeIndex);
      });

      let wheelLocked = false;
      let wheelTimer = 0;
      window.addEventListener('wheel', (event) => {
        if (!document.body.classList.contains('about-open')) return;
        if (Math.abs(event.deltaY) < 8) return;
        event.preventDefault();
        if (wheelLocked) return;
        wheelLocked = true;
        activeIndex += event.deltaY > 0 ? 1 : -1;
        setSlide(activeIndex);
        clearTimeout(wheelTimer);
        wheelTimer = window.setTimeout(() => {
          wheelLocked = false;
        }, 420);
      }, { passive: false });
    })();
  </script>
</body>
</html>
